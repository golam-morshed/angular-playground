<div class="employee-detail">
  <!-- Loading State -->
  <div *ngIf="loading" class="text-center py-5">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <p class="mt-2">Loading employee details...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error && !loading" class="alert alert-danger" role="alert">
    {{ error }}
    <button class="btn btn-primary mt-3" (click)="backToList()">
      Back to Employee List
    </button>
  </div>

  <!-- Employee Details -->
  <div *ngIf="employee && !loading && !error">
    <!-- Action Buttons -->
    <div class="action-buttons mb-3">
      <button class="btn btn-outline-secondary" (click)="backToList()">
        <i class="bi bi-arrow-left"></i> Back to List
      </button>
      <div class="button-group">
        <button class="btn btn-warning" (click)="editEmployee()">
          <i class="bi bi-pencil"></i> Edit
        </button>
        <button class="btn btn-danger" (click)="deleteEmployee()">
          <i class="bi bi-trash"></i> Delete
        </button>
      </div>
    </div>

    <!-- Single Unified Card -->
    <div class="card shadow-sm">
      <!-- Employee Header -->
      <div class="card-header bg-primary text-white">
        <div class="employee-header">
          <div>
            <h3 class="mb-1">{{ employee.firstName | titlecase }} {{ employee.lastName | titlecase }}</h3>
            <p class="mb-0 opacity-90">{{ employee.position | titlecase }}</p>
          </div>
          <span class="department-badge">{{ employee.department | uppercase }}</span>
        </div>
      </div>

      <div class="card-body">
        <!-- Contact Information -->
        <div class="info-section">
          <h5 class="section-title">Contact Information</h5>
          <div class="row">
            <div class="col-md-6 mb-3">
              <div class="info-item">
                <i class="bi bi-envelope info-icon"></i>
                <div>
                  <label class="info-label">Email</label>
                  <p class="info-value"><a [href]="'mailto:' + employee.email">{{ employee.email }}</a></p>
                </div>
              </div>
            </div>
            <div class="col-md-6 mb-3">
              <div class="info-item">
                <i class="bi bi-telephone info-icon"></i>
                <div>
                  <label class="info-label">Phone</label>
                  <p class="info-value"><a [href]="'tel:' + employee.phone">{{ employee.phone }}</a></p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <hr>

        <!-- Employment Details -->
        <div class="info-section">
          <h5 class="section-title">Employment Details</h5>
          <div class="row">
            <div class="col-md-6 mb-3">
              <div class="info-item">
                <i class="bi bi-briefcase info-icon"></i>
                <div>
                  <label class="info-label">Position</label>
                  <p class="info-value fw-bold">{{ employee.position | titlecase }}</p>
                </div>
              </div>
            </div>
            <div class="col-md-6 mb-3">
              <div class="info-item">
                <i class="bi bi-building info-icon"></i>
                <div>
                  <label class="info-label">Department</label>
                  <p class="info-value">{{ employee.department }}</p>
                </div>
              </div>
            </div>
            <div class="col-md-6 mb-3">
              <div class="info-item">
                <i class="bi bi-cash-coin info-icon"></i>
                <div>
                  <label class="info-label">Salary</label>
                  <p class="info-value text-success fw-bold">{{ employee.salary | currency:'USD':'symbol':'1.0-0' }}</p>
                </div>
              </div>
            </div>
            <div class="col-md-6 mb-3">
              <div class="info-item">
                <i class="bi bi-calendar-check info-icon"></i>
                <div>
                  <label class="info-label">Hire Date</label>
                  <p class="info-value">{{ employee.hireDate | date:'mediumDate' }}</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <hr>

        <!-- Address -->
        <div class="info-section">
          <h5 class="section-title">Address</h5>
          <div class="info-item">
            <i class="bi bi-geo-alt info-icon"></i>
            <div>
              <address class="info-value mb-0">
                {{ employee.address.street }}<br>
                {{ employee.address.city }}, {{ employee.address.zipCode }}<br>
                {{ employee.address.country }}
              </address>
            </div>
          </div>
        </div>

        <hr>

        <!-- Skills -->
        <div class="info-section">
          <h5 class="section-title">Skills & Expertise</h5>
          <div *ngIf="employee.skills.length > 0" class="skills-container">
            <span 
              *ngFor="let skill of employee.skills" 
              class="skill-badge">
              {{ skill }}
            </span>
          </div>
          <div *ngIf="employee.skills.length === 0" class="text-muted">
            <i class="bi bi-info-circle"></i> No skills listed
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

